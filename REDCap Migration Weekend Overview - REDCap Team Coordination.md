---
tags: [Migration, REDCap, Weekend]
title: REDCap Migration Weekend Overview - REDCap Team Coordination
created: '2021-03-19T13:29:39.596Z'
modified: '2021-03-19T16:47:18.360Z'
---

## REDCap Migration Weekend Overview - REDCap Team Coordination
---

### [ High-Level Overview and Notes ]

**Friday, March 19:**
**@20:00** 
- Terresterial based POA-REDCap is taken offline.
- F5 Team begins Node updates to gateway transfer.
  - Paul Sagar Katuri - F5 Team,  on call for night - he's fully informed on our happenings. Paul is easy to find on Teams, very responsive. 
  - F5 Node: POA-REDCap - directed to redcap1.spinup.yale.edu host IP.
  - SSL certificated transferred update.
  - remind them - :80--->:443

**Team LESS** - because less is more:
- Execute on prepared Documentation and DB Import Checklists.
    - Doco sources: Tyler's github repo documentation checklist & Teams LESS migration documentations/outline. 
    - Capture SQL Dumps - Begin DB import process on spinup host.  
      - [ notes ]
        - Let SQL Database transactions settle - (restart maridab? )
        - Capture SQL Dumps, for import and archive.
        - Get separate DBs export and also a singular large mega dump of all DB - for archive. 
        - Name: DMIC-DB0_finalDump_20210319.sql.tar
        - _Important_:  Email Queue: The emails generated by DB Import should NOT be deleted. The messages should be sent when the DB is resored and connected to the MTA again / REDCap brought online. 
        - When SQL export done/transfers complete, can shutdown/offline the POA-REDCap VMs
      

**@22:00** 
- REDCap Database Import on redcap1-db.spinup has begun.
  - Takes about 3.5 hours to complete import.
  - SQL Archives transferred to S@Y Storage  
  - REDCap application is left offline, Apache services stopped. 

**Saturday, March 20:**
- Morning: Hurray Success! Import complete no errors. 
- F5 Node and SSL Certificates transfer is complete
- Apache web host started / REDCap application left in "offline" mode. 
- check edocs auomount PATHS 
- verify DNS access from both https names: 
    - POA-REDCap.med.yale.edu / redcap.med.yale.edu
- email que released, and messages sent. 
    


** Alert The Data Team:**
- By 11:00 Email goes out to REDCap@Yale Migration Team.
- The email speaks of success, and next phases of testing and validation on the imported database.
- Begin testing projects, external modules and Mary's checklist on Teams.
    - Sui has noted:  Shazam is acting strange - possibly due to new PHP 7.2 environment. 

**LESS Team:**
- make sure backups are rolling on schedule
- Performance check Optimizations on Apache & MariaDB hosts.  
- Kraig is telling us why `iotop` is great.
- redcap cronjob is enabled.
- REDCap running in "offline" mode. 


**Sunday March 21:**
- Live test of alternate 'redcap.med.yale.edu' DNS - (if all else is going well...or else skip this.)
This means chagne the HomePage setting, so the Banner Module works.
- 1st live application test of alt DNS. 


**@Data Managers Team:**
- Need a Coordinated Sign-Off / Lets go live plan
- Involves Sui, Sumon, Janet, Peter, and everyone else.
- Checking for concensus that we are ready to go Live Monday morning


**PLAN B**
- In the strange and highly unlikely event that we wanted to switch BACK to our
terresterial On-Prem origins....
Paul of the F5 is keeping the old Load Balancer Conf offline, and won't nuke it right away.

---end---/

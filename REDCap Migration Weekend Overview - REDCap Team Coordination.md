---
tags: [Migration, REDCap, Weekend]
title: REDCap Migration Weekend Overview - REDCap Team Coordination
created: '2021-03-19T13:29:39.596Z'
modified: '2021-03-19T13:51:58.258Z'
---

## REDCap Migration Weekend Overview - REDCap Team Coordination
---

# [ Highlevel Overview and Notes ]

**Friday, March 19:**
@20:00 
- Terresterial based POA-REDCap is taken offline.
- F5 Team begins updates to gateway transfer.
  - Paul Sagar Katuri - F5 Team,  on call for night - he's fully informed on our happenings. Paul is easy to find on Teams, very responsive. 
  - F5 Node: POA-REDCap - directed to redcap1.spinup.yale.edu host IP.
  - SSL certificated transferred update.
  - remind them - :80--->:443

**Team LESS** - because less is more:

- Execute on prepared Documentation and DB Import Checklists.
    - Doco sources: Tyler's github repo documentation checklist & Teams LESS migration documentations/outline. 
    - Captures SQL Dumps - Begins DB import process on spinup host.  
      - [ notes ]
        - Let SQL Database transactions settle - (restart maridab? )
        - Capture SQL Dumps, for import and archive.
        - Get separate DBs export and also a singular large mega dump of all DB - for archive. 
        - Name: DMIC-DB0_finalDump20210319.sql.tar
        - _Important_:  Email Queue: The emails generated by DB Import should NOT be deleted. The messages should be sent when the DB is resored and connected to the MTA again / REDCap brought online. 
        - When complete Shutdown the on-prem POA-REDCap DB and Web VMs.

**@22:00** 
- REDCap Database Import on redcap1-db.spinup has begun.
  - Takes about 3.5 hours to complete import.
  - SQL Archives transferred to S@Y Storage  
  - REDCap application is left offline, Apache stopped. 

**Saturday Morning, March 20:**
- F5 Node transfer and SSL Certificates transfer is complete
- Morning: Hurray Success. Import complete no errors. 
- Verifiy logins
- check edocs auomount PATHS 
- Leave REDCap app running but "offline"
- Test access from both DNS Names: 
    - POA-REDCap.med.yale.edu / redcap.med.yale.edu
    Just to verify DNS, no change in REDCap App settings.


**Summon The Data Team:**
- By 11:00 Email goes out to REDCap@Yale Migration Team.
- The email speaks of success, and next phases of testing and validation on the imported database.
- Begin testing projects, external modules and Mary's checklist on Teams.
    - Sui has noted:  Shazam is acting strange - possibly due to new PHP 7.2 environment. 

**LESS Team:**
- make sure backups are rolling on schedule
- Kraig is telling us why `iotop` is great.
- Performance check Optimizations on Apache & MariaDB hosts.  




**Sunday March 21:**
- Live test of REDCap.med.yale.edu DNS - (if all else is going well...or else skip this.)
This means chagne the HomePage setting, so the Banner Module works - 1st test.
Then change it back. 
- This is only a test, a first look to see if it works differently. Not making this change yet.
- Change primary back to POA-REDCap.med.yale.edu,

**@Data Managers Team:**
- Need a Coordinated Sign-Off / Lets go live plan
- Involves Sui, Sumon, Janet, Peter, and everyone else.
- Checking for agreement that we are ready to go Live Monday morning



**PLAN B**
- In the strange and highly unlikely event that we wanted to switch BACK to our
terresterial On-Prem origins....
Paul of the F5 is keeping the old Load Balancer Conf offline, and won't nuke it right away.

---end---end---


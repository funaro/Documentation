---
favorited: true
tags: [Migration, REDCap, Weekend]
title: REDCap Migration Weekend Overview - REDCap Team Coordination
created: '2021-03-19T13:29:39.596Z'
modified: '2021-03-19T23:06:37.867Z'
---

## REDCap Migration Weekend Overview - REDCap Team Coordination
---

### [ High-Level Overview and Notes ]

**Friday, March 19:**
**@20:00** 
- Terresterial based POA-REDCap is taken offline.
- F5 Team begins Node updates to gateway transfer.
  - Paul Sagar Katuri - F5 Team,  on call for night - he's fully informed on our happenings. Paul is easy to find on Teams, very responsive. 
  - F5 Node: POA-REDCap - directed to redcap1.spinup.yale.edu host IP.
  - SSL certificated transferred update.
  - remind them - :80--->:443

**LESS Team** - because less is more:
- Execute on prepared Documentation and DB Import Checklists.
    - Doco sources: Tyler's github repo documentation checklist & Teams LESS migration documentation/outline. 
    - Capture SQL Dumps - Begin DB import process on Spinup DB Host.  
      - [ notes ]
        - Let SQL Database transactions settle before export - (restart maridab? )
        - Capture SQL Dump sets, for import and for archive.
        - Get separate DBs export and also a singular large mega dump of all DB - for archive. 
        - FileName: DMIC-DB0_finalDump_20210319.sql.zip
        - _Important_:  Email Queue: The emails generated by DB Import should NOT be deleted. The messages should be sent when the DB is resored and connected to the MTA again / REDCap brought online. 
        - When SQL export done/transfers complete, can shutdown/offline the POA-REDCap VMs
      
**@22:00** 
- REDCap Database Import on redcap1-db.spinup has begun.
  - Takes about 3.5 hours to complete import.
  - SQL Archives transferred to S@Y Storage  
  - REDCap application is left offline, Apache services stopped. 

**Saturday, March 20:**

**LESS Team**
- Morning: Hurray Success! Import complete no errors. 
- F5 Node and SSL Certificates transfer is complete
- Apache web host started / REDCap application left in "offline" mode. 
- check edocs auomount PATHS 
- /plugin /hooks directory contents,replicated from origin, moved to disabled subdir eg. "./hooks/tmp_disabled/ "
- make sure "/hooks/hooks.php" stays available and linked. 
- verify DNS access from both https names: 
    - POA-REDCap.med.yale.edu / redcap.med.yale.edu
- email que released, and messages sent. 
    

**Alert Data Management Team:**
- By 11:00 Email goes out to REDCap@Yale Migration Team.
- The email speaks of success, and next phases of testing and validation on the imported database.
- Begin testing projects, external modules 
- follow Mary's checklist posted on Teams - and is attached to Go-Live Check-In meeting invite @16:00 Sunday.
    - Sui has noted:  Shazam is acting strange - possibly due to new PHP 7.2 environment. 

**LESS Team:**
- make sure backups are rolling on schedule
- Performance check Optimizations on Apache & MariaDB hosts.  
- Kraig is telling us why `iotop` is great.
- redcap cronjob is enabled.
- REDCap running in "offline" mode. 


**Sunday March 21:**
- Live test of alternate 'redcap.med.yale.edu' https - (if all else is going well...or else skip this.)
This means change the Home Page setting, so the Banner Module works.
- 1st live application test of alt DNS. 


**@Data Managers Team:**
- Need a Coordinated Sign-Off on success  / Lets go live plan
- Involves Sui, Sumon, Janet, Peter, and everyone else.
- Checking for concensus that we are ready to go Live Monday morning

**@16:00 Sunday Afternoon** 
- Meeting of entire Migration Team, to confirm success.
- Concensus on Go-Live for Monday morning.
- Sui to send announcement to users on Monday morning. 

**PLAN B**
- In the strange and highly unlikely event that we need to switch BACK to our
terresterial On-Prem origins...
Paul of the F5 is keeping the old Load Balancer Conf offline, and won't nuke it right away;
//
---end---/
